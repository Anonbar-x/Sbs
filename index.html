<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>‡¶∞‡ßÅ‡¶∂ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶™‡¶æ‡¶†‡¶∂‡¶æ‡¶≤‡¶æ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;700&display=swap');

        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --background-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --text-color: #34495e;
            --card-bg-color: #ffffff;
            --success-color: #27ae60;
            --light-gray: #95a5a6;
            --font-family: 'Noto Sans Bengali', sans-serif;
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0; padding: 0;
        }

        html, body {
            height: 100%; width: 100%;
            overflow: hidden;
            font-family: var(--font-family);
            background: var(--background-gradient);
        }

        .app-container {
            display: flex; flex-direction: column;
            height: 100vh; width: 100vw;
        }

        .app-header {
            flex-shrink: 0; background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            padding: 0 20px; display: flex; align-items: center; justify-content: space-between;
            height: 65px; box-shadow: 0 2px 15px rgba(0,0,0,0.05); z-index: 10;
            border-bottom: 1px solid #e0e0e0;
        }
        .logo { font-size: 1.4rem; font-weight: 700; color: var(--primary-color); }
        .menu-toggle { font-size: 1.8rem; cursor: pointer; color: var(--primary-color); }

        .nav-links {
            list-style: none; position: fixed; top: 0; left: -280px;
            width: 280px; height: 100%; background: var(--primary-color);
            padding-top: 60px; transition: left 0.3s ease-in-out; z-index: 100;
        }
        .nav-links.active { left: 0; }
        .nav-links li a {
            display: block; padding: 18px 25px; color: white;
            text-decoration: none; font-size: 1.1rem; border-bottom: 1px solid #34495e;
        }
        .nav-links li a:hover { background-color: var(--secondary-color); }

        .app-main {
            flex-grow: 1; padding: 20px 10px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            position: relative;
        }
        
        .page {
            width: 100%; height: 100%; display: none; flex-direction: column;
            align-items: center; justify-content: center; text-align: center;
            animation: fadeIn 0.5s ease;
        }
        .page.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        #home-page h1 { font-size: 2.2rem; color: var(--primary-color); margin-bottom: 1rem; }
        #home-page p { max-width: 500px; margin: 0 auto 2rem auto; color: var(--text-color); font-size: 1.1rem; }
        
        /* --- Card Stack for Swiping --- */
        .card-stack {
            position: relative; width: 100%; max-width: 400px;
            height: 480px; margin-bottom: 20px;
        }
        .conversation-card {
            background: var(--card-bg-color); border-radius: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            padding: 25px; text-align: left;
            position: absolute; width: 100%; height: 100%;
            cursor: grab; transition: transform 0.3s ease, opacity 0.3s ease;
            touch-action: none; /* Prevents browser default actions */
        }
        .conversation-card:nth-child(2) { transform: scale(0.95) translateY(20px); opacity: 0.8; }
        .conversation-card:nth-child(3) { transform: scale(0.9) translateY(40px); opacity: 0.6; }

        .lang-item { margin-bottom: 20px; }
        .lang-item:last-child { margin-bottom: 0; }
        .lang-item .label {
            font-size: 0.8rem; font-weight: 700; color: var(--light-gray);
            text-transform: uppercase; letter-spacing: 0.5px;
        }
        .lang-item .text { font-size: 1.3rem; font-weight: 500; color: var(--text-color); }
        .lang-ru-cy { font-family: 'Times New Roman', Times, serif; color: var(--secondary-color); font-size: 1.5rem; }

        .btn {
            border: none; border-radius: 50px; padding: 18px 40px;
            color: white; font-size: 1.2rem; font-weight: 700;
            cursor: pointer; transition: all 0.3s ease;
            text-decoration: none; display: inline-block;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.2); }
        .btn-primary { background-color: var(--secondary-color); }
        .btn-success { background: linear-gradient(45deg, #27ae60, #2ecc71); }
        
        /* Saved Page */
        #saved-page { justify-content: flex-start; }
        #saved-items-container {
             width: 100%; max-width: 500px; height: 100%;
             overflow-y: auto; padding: 15px;
        }
        #saved-items-container .conversation-card {
            position: relative; height: auto; margin-bottom: 15px; cursor: default;
        }
        .remove-btn {
            position: absolute; top: 15px; right: 15px; background: #e74c3c;
            color: white; border: none; width: 30px; height: 30px;
            border-radius: 50%; cursor: pointer; font-weight: 700;
        }
        .app-footer {
            flex-shrink: 0; text-align: center; padding: 15px;
            color: var(--text-color); font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <div class="app-container">
        
        <header class="app-header">
            <div class="logo">‡¶∞‡ßÅ‡¶∂ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶™‡¶æ‡¶†‡¶∂‡¶æ‡¶≤‡¶æ</div>
            <div class="menu-toggle" id="menu-toggle">&#9776;</div>
        </header>

        <ul class="nav-links" id="nav-links">
            <li><a href="#" data-page="home-page">‡¶π‡ßã‡¶Æ</a></li>
            <li><a href="#" data-page="saved-page">‡¶∂‡¶ø‡¶ñ‡ßá‡¶õ‡¶ø ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</a></li>
            <li><a href="#" data-page="about-page">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá</a></li>
        </ul>

        <main class="app-main">
            <div id="home-page" class="page active">
                <div>
                    <h1>‡¶∞‡¶æ‡¶∂‡¶ø‡ßü‡¶æ‡¶® ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶∂‡¶ø‡¶ñ‡ßÅ‡¶® ‡¶®‡¶§‡ßÅ‡¶® ‡¶â‡¶™‡¶æ‡ßü‡ßá</h1>
                    <p>‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶°‡¶æ‡¶®‡ßá ‡¶¨‡¶æ ‡¶¨‡¶æ‡¶Æ‡ßá ‡¶∏‡ßã‡ßü‡¶æ‡¶á‡¶™ ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶∂‡ßá‡¶ñ‡¶æ ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶≤‡ßá "‡¶∂‡¶ø‡¶ñ‡ßá‡¶õ‡¶ø" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
                    <a href="#" class="btn btn-primary" id="start-learning">‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶® üöÄ</a>
                </div>
            </div>

            <div id="learning-page" class="page">
                <div class="card-stack" id="card-stack">
                    </div>
                <a href="#" class="btn btn-success" id="learned-btn">‡¶∂‡¶ø‡¶ñ‡ßá‡¶õ‡¶ø üëç</a>
            </div>
            
            <div id="saved-page" class="page">
                <div id="saved-items-container"></div>
            </div>

            <div id="about-page" class="page">
                 <div>
                    <h1 style="font-size: 1.8rem;">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá</h1>
                    <p>‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø, ‡¶≠‡¶æ‡¶∑‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶®‡ßç‡¶®‡¶§‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá ‡¶∞‡¶æ‡¶∂‡¶ø‡ßü‡¶æ‡¶§‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶Ø‡ßá‡¶® ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡ßü ‡¶®‡¶æ ‡¶™‡ßú‡ßá‡¶®‡•§</p>
                </div>
            </div>
        </main>
        
    </div>

<script>
const conversations = [
    { bn: "‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã", ru_cy: "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ", ru_bn: "‡¶ú‡ßç‡¶¶‡ßç‡¶∞‡¶æ‡¶∏‡ßç‡¶§‡¶≠‡ßÅ‡¶á‡¶§‡ßá", en: "Hello" },
    { bn: "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ï‡¶ø?", ru_cy: "–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?", ru_bn: "‡¶ï‡¶æ‡¶ï ‡¶≠‡¶æ‡¶∏ ‡¶Ø‡¶æ‡¶≠‡ßÅ‡¶§?", en: "What is your name?" },
    { bn: "‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ...", ru_cy: "–ú–µ–Ω—è –∑–æ–≤—É—Ç...", ru_bn: "‡¶Æ‡¶ø‡¶®‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶≠‡ßÅ‡¶§...", en: "My name is..." },
    { bn: "‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ü‡¶õ‡ßá‡¶®?", ru_cy: "–ö–∞–∫ –¥–µ–ª–∞?", ru_bn: "‡¶ï‡¶æ‡¶ï ‡¶¶‡¶ø‡¶≤‡¶æ?", en: "How are you?" },
    { bn: "‡¶Ü‡¶Æ‡¶ø ‡¶≠‡¶æ‡¶≤‡ßã ‡¶Ü‡¶õ‡¶ø, ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§", ru_cy: "–•–æ—Ä–æ—à–æ, —Å–ø–∞—Å–∏–±–æ.", ru_bn: "‡¶ñ‡¶æ‡¶∞‡¶æ‡¶∂‡ßã, ‡¶∏‡ßç‡¶™‡¶æ‡¶∏‡¶ø‡¶¨‡¶æ‡•§", en: "I'm fine, thank you." },
    { bn: "‡¶Ü‡¶Æ‡¶ø ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶∏‡ßá‡¶õ‡¶ø‡•§", ru_cy: "–Ø –∏–∑ –ë–∞–Ω–≥–ª–∞–¥–µ—à–∞.", ru_bn: "‡¶á‡¶Ø‡¶º‡¶æ ‡¶á‡¶ú ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶æ‡•§", en: "I am from Bangladesh." },
    { bn: "‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§", ru_cy: "–°–ø–∞—Å–∏–±–æ.", ru_bn: "‡¶∏‡ßç‡¶™‡¶æ‡¶∏‡¶ø‡¶¨‡¶æ‡•§", en: "Thank you." },
    { bn: "‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá‡•§", ru_cy: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞.", ru_bn: "‡¶™‡¶æ‡¶ù‡¶æ‡¶≤‡ßÅ‡¶∏‡ßç‡¶§‡¶æ‡•§", en: "Please / You're welcome." },
    { bn: "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§‡•§", ru_cy: "–ò–∑–≤–∏–Ω–∏—Ç–µ.", ru_bn: "‡¶á‡¶ú‡¶≠‡¶ø‡¶®‡¶ø‡¶§‡ßá‡•§", en: "Sorry / Excuse me." },
    { bn: "‡¶è‡¶ü‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶Æ ‡¶ï‡¶§?", ru_cy: "–°–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç?", ru_bn: "‡¶∏‡ßç‡¶ï‡ßã‡¶≤‡¶ï‡¶æ ‡¶è‡¶§‡¶æ ‡¶∏‡ßç‡¶§‡ßã‡¶Ø‡¶º‡¶ø‡¶§?", en: "How much is this?" },
    { bn: "‡¶Ü‡¶Æ‡¶ø ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶õ‡¶ø ‡¶®‡¶æ‡•§", ru_cy: "–Ø –Ω–µ –ø–æ–Ω–∏–º–∞—é.", ru_bn: "‡¶á‡¶Ø‡¶º‡¶æ ‡¶®‡¶ø ‡¶™‡¶æ‡¶®‡¶ø‡¶Æ‡¶æ‡¶á‡¶â‡•§", en: "I don't understand." },
    { bn: "‡¶∂‡ßå‡¶ö‡¶æ‡¶ó‡¶æ‡¶∞‡¶ü‡¶ø ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º?", ru_cy: "–ì–¥–µ —Ç—É–∞–ª–µ—Ç?", ru_bn: "‡¶ó‡¶¶‡ßá ‡¶§‡ßÅ‡¶Ø‡¶º‡¶æ‡¶≤‡ßá‡¶∞‡ßç‡¶ü?", en: "Where is the toilet?" },
    { bn: "‡¶¨‡¶ø‡¶¶‡¶æ‡ßü‡•§", ru_cy: "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è.", ru_bn: "‡¶¶‡¶æ ‡¶∏‡ßç‡¶¨‡¶ø‡¶¶‡¶æ‡¶®‡¶ø‡¶Ø‡¶º‡¶æ‡•§", en: "Goodbye." }
];

let currentIndex = 0;
let savedItems = JSON.parse(localStorage.getItem('savedRussianConvosV3')) || [];

document.addEventListener('DOMContentLoaded', () => {
    const pages = document.querySelectorAll('.page');
    const navLinks = document.querySelectorAll('.nav-links a');
    const menuToggle = document.getElementById('menu-toggle');
    const navLinksContainer = document.getElementById('nav-links');
    const cardStack = document.getElementById('card-stack');

    const showPage = (pageId) => {
        pages.forEach(page => page.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        navLinksContainer.classList.remove('active');
        if (pageId === 'learning-page') loadCards();
        if (pageId === 'saved-page') renderSavedItems();
    };

    navLinks.forEach(link => link.addEventListener('click', (e) => {
        e.preventDefault();
        showPage(e.target.getAttribute('data-page'));
    }));

    menuToggle.addEventListener('click', () => navLinksContainer.classList.toggle('active'));
    document.getElementById('start-learning').addEventListener('click', (e) => {
        e.preventDefault();
        showPage('learning-page');
    });

    document.getElementById('learned-btn').addEventListener('click', (e) => {
        e.preventDefault();
        const currentItem = conversations[currentIndex];
        if (!savedItems.some(item => item.bn === currentItem.bn)) {
            savedItems.push(currentItem);
            localStorage.setItem('savedRussianConvosV3', JSON.stringify(savedItems));
            alert('"' + currentItem.bn + '"' + ' - ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡ßá‡¶ñ‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡ßü ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§');
        } else {
            alert('‡¶è‡¶á ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø‡¶ü‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡ßá‡¶ñ‡¶æ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡ßü ‡¶Ü‡¶õ‡ßá‡•§');
        }
    });

    const createCardHTML = (item) => `
        <div class="lang-item"><span class="label">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span><p class="text">${item.bn}</p></div>
        <div class="lang-item"><span class="label">‡¶∞‡¶æ‡¶∂‡¶ø‡ßü‡¶æ‡¶®</span><p class="text lang-ru-cy">${item.ru_cy}</p></div>
        <div class="lang-item"><span class="label">‡¶â‡¶ö‡ßç‡¶ö‡¶æ‡¶∞‡¶£</span><p class="text">${item.ru_bn}</p></div>
        <div class="lang-item"><span class="label">ENGLISH</span><p class="text">${item.en}</p></div>`;

    const loadCards = () => {
        cardStack.innerHTML = '';
        const indicesToLoad = [currentIndex, (currentIndex + 1) % conversations.length, (currentIndex + 2) % conversations.length];
        indicesToLoad.reverse().forEach(index => {
            const card = document.createElement('div');
            card.className = 'conversation-card';
            card.innerHTML = createCardHTML(conversations[index]);
            cardStack.appendChild(card);
        });
        initSwipe();
    };

    const nextCard = () => {
        currentIndex = (currentIndex + 1) % conversations.length;
        loadCards();
    };

    const prevCard = () => {
        currentIndex = (currentIndex - 1 + conversations.length) % conversations.length;
        loadCards();
    };

    function initSwipe() {
        const topCard = cardStack.querySelector('.conversation-card:last-child');
        if (!topCard) return;

        let startX = 0, startY = 0, moveX = 0, moveY = 0;
        let isDragging = false;

        function onStart(e) {
            isDragging = true;
            startX = e.pageX || e.touches[0].pageX;
            topCard.style.transition = 'none';
        }

        function onMove(e) {
            if (!isDragging) return;
            moveX = (e.pageX || e.touches[0].pageX) - startX;
            topCard.style.transform = `translateX(${moveX}px) rotate(${moveX / 10}deg)`;
        }

        function onEnd(e) {
            if (!isDragging) return;
            isDragging = false;
            topCard.style.transition = 'transform 0.3s ease, opacity 0.3s ease';

            if (Math.abs(moveX) > 100) {
                const direction = moveX > 0 ? 1 : -1;
                topCard.style.transform = `translateX(${direction * 500}px)`;
                topCard.style.opacity = '0';
                setTimeout(() => {
                    direction === 1 ? prevCard() : nextCard();
                }, 300);
            } else {
                topCard.style.transform = '';
            }
        }

        topCard.addEventListener('mousedown', onStart);
        document.addEventListener('mousemove', onMove);
        document.addEventListener('mouseup', onEnd);
        topCard.addEventListener('touchstart', onStart, { passive: true });
        document.addEventListener('touchmove', onMove, { passive: true });
        document.addEventListener('touchend', onEnd);
    }

    const renderSavedItems = () => {
        const container = document.getElementById('saved-items-container');
        container.innerHTML = '<h2 style="text-align:center; color: var(--primary-color); margin-bottom: 20px;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∂‡ßá‡¶ñ‡¶æ ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</h2>';
        if (savedItems.length === 0) {
            container.innerHTML += '<p style="text-align:center;">‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ñ‡¶®‡¶ì ‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶æ‡¶ï‡ßç‡¶Ø ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßá‡¶®‡¶®‡¶ø‡•§</p>';
        } else {
            savedItems.forEach((item, index) => {
                const cardEl = document.createElement('div');
                cardEl.className = 'conversation-card';
                cardEl.innerHTML = createCardHTML(item) + `<button class="remove-btn" onclick="removeSavedItem(${index})">X</button>`;
                container.appendChild(cardEl);
            });
        }
    };

    window.removeSavedItem = (index) => {
        savedItems.splice(index, 1);
        localStorage.setItem('savedRussianConvosV3', JSON.stringify(savedItems));
        renderSavedItems();
    };

    showPage('home-page');
});
</script>

</body>
</html>
